# ZenMux æ–‡æ¡£ç«™ç‚¹

åŸºäº VitePress çš„å¤šè¯­è¨€æ–‡æ¡£ç«™ç‚¹ã€‚æºæ–‡ä»¶åœ¨ `docs_source/`ï¼Œæ„å»ºäº§ç‰©è¾“å‡ºåˆ° `docs/`ï¼ˆç”¨äº GitHub Pages å‘å¸ƒï¼‰ã€‚

## ç¯å¢ƒè¦æ±‚

- Node.js 18+ï¼ˆVitePress 1.6.x éœ€ Node 18 æˆ–æ›´é«˜ï¼‰
- npm 8+

## å¿«é€Ÿå¼€å§‹

1. å®‰è£…ä¾èµ–

```sh
pnpm install
```

2. æœ¬åœ°å¼€å‘ï¼ˆçƒ­æ›´æ–°ï¼‰

```sh
pnpm run dev
```

3. ç”Ÿäº§æ„å»ºï¼ˆè¾“å‡ºåˆ° docs/ ç›®å½•ï¼‰

```sh
pnpm run build
```

4. æœ¬åœ°é¢„è§ˆå·²æ„å»ºç«™ç‚¹

```sh
pnpm run preview
```

## è„šæœ¬å‘½ä»¤

æœ¬é¡¹ç›®æä¾›äº†å¤šä¸ªå®ç”¨è„šæœ¬æ¥ç®€åŒ–å¼€å‘æµç¨‹ï¼š

### ğŸ“– æ–‡æ¡£å¼€å‘

```sh
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­æ›´æ–°ï¼‰
pnpm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼ˆè¾“å‡ºåˆ° docs/ ç›®å½•ï¼‰
pnpm run build

# é¢„è§ˆå·²æ„å»ºçš„ç«™ç‚¹
pnpm run preview
```

### ğŸŒ ç¿»è¯‘å·¥å…·

```sh
# å°†ä¸­æ–‡æ–‡æ¡£ç¿»è¯‘ä¸ºè‹±æ–‡
pnpm run translate <ä¸­æ–‡æ–‡ä»¶è·¯å¾„> [--force]

# ç¤ºä¾‹ï¼šç¿»è¯‘å¿«é€Ÿå¼€å§‹æ–‡æ¡£
pnpm run translate docs_source/zh/guide/quickstart.md

# å¼ºåˆ¶é‡æ–°ç¿»è¯‘ï¼ˆè¦†ç›–ç°æœ‰è‹±æ–‡æ–‡ä»¶ï¼‰
pnpm run translate docs_source/zh/guide/quickstart.md --force
```

**ç¿»è¯‘å·¥å…·è¯´æ˜**ï¼š
- è‡ªåŠ¨å°† `zh/` è·¯å¾„è½¬æ¢ä¸º `en/` è·¯å¾„
- ä½¿ç”¨ AI æ¨¡å‹ (claude-sonnet-4) è¿›è¡Œé«˜è´¨é‡ç¿»è¯‘
- ä¿ç•™ä»£ç å—ã€å˜é‡åå’Œ Markdown æ ¼å¼
- éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡ `ZENMUX_API_KEY`

### âœ¨ æ–‡æ¡£ä¼˜åŒ–

```sh
# ä¼˜åŒ–ä¸­æ–‡æ–‡æ¡£çš„è¯­è¨€å’Œç»“æ„
pnpm run optimize <è¾“å…¥æ–‡ä»¶> <è¾“å‡ºæ–‡ä»¶> [--force]

# ç¤ºä¾‹ï¼šä¼˜åŒ–è‰ç¨¿æ–‡æ¡£
pnpm run optimize draft.md docs_source/zh/guide/quickstart.md

# å¼ºåˆ¶è¦†ç›–ç°æœ‰æ–‡ä»¶
pnpm run optimize draft.md docs_source/zh/guide/quickstart.md --force
```

**æ–‡æ¡£ä¼˜åŒ–å·¥å…·è¯´æ˜**ï¼š
- æ”¹å–„ä¸­æ–‡æ–‡æ¡£çš„è¡¨è¾¾å’Œç»“æ„
- ç¡®ä¿ VitePress è¯­æ³•çš„æ­£ç¡®ä½¿ç”¨
- ç»Ÿä¸€æ–‡æ¡£é£æ ¼å’Œæ ¼å¼
- éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡ `ZENMUX_API_KEY`

### ğŸ–¼ï¸ å›¾ç‰‡æ ¼å¼åŒ–

```sh
# è‡ªåŠ¨æ ¼å¼åŒ–æ‰€æœ‰æ–‡æ¡£ä¸­çš„å›¾ç‰‡
pnpm run format-images
```

**å›¾ç‰‡æ ¼å¼åŒ–å·¥å…·åŠŸèƒ½**ï¼š
- **æ™ºèƒ½åˆ†ç±»**ï¼šæ ¹æ®å›¾ç‰‡æè¿°è‡ªåŠ¨è¯†åˆ«ç±»å‹
  - æˆªå›¾ç±» (ç•Œé¢ã€é¡µé¢ã€æ•ˆæœ)ï¼šå¤§å°ºå¯¸å±•ç¤ºï¼Œæœ€å¤§å®½åº¦ 800px
  - å›¾æ ‡ç±» (æŒ‰é’®ã€å¤åˆ¶ã€slug)ï¼šå°å°ºå¯¸å±•ç¤ºï¼Œæœ€å¤§å®½åº¦ 400px
  - å›¾è¡¨ç±» (æµç¨‹å›¾ã€æ¶æ„å›¾)ï¼šä¸­ç­‰å°ºå¯¸ï¼Œæœ€å¤§å®½åº¦ 600px
  - é»˜è®¤ç±»ï¼šç»Ÿä¸€ä¸­ç­‰å°ºå¯¸ï¼Œæœ€å¤§å®½åº¦ 700px
- **ç»Ÿä¸€æ ·å¼**ï¼šå“åº”å¼è®¾è®¡ã€åœ†è§’è¾¹æ¡†ã€é˜´å½±æ•ˆæœã€å±…ä¸­å¯¹é½
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæ‡’åŠ è½½æ”¯æŒï¼Œé¿å…é‡å¤å¤„ç†

**æç¤º**ï¼š

- æœ¬ä»“åº“çš„ `docs_source/.vitepress/config.mts` å·²è®¾ç½® `outDir: '../docs'`ï¼Œå› æ­¤æ— éœ€åœ¨å‘½ä»¤è¡Œä¼  `--out`ã€‚
- å·²å¼€å¯æœ¬åœ°å…¨æ–‡æœç´¢ï¼ˆ`search.provider = 'local'`ï¼‰ã€‚

## ç›®å½•ç»“æ„

- `docs_source/` æ–‡æ¡£æºç ï¼ˆMarkdown + ç«™ç‚¹é…ç½®ï¼‰
  - `.vitepress/config.mts` ç«™ç‚¹ä¸ä¸»é¢˜é…ç½®ï¼ˆå·²å¯ç”¨ä¸­è‹±æ–‡ localesï¼‰
  - `index.md` è‹±æ–‡é¦–é¡µä¸å¿«é€Ÿå¼€å§‹
  - `api/overview.md` API æ¦‚è§ˆ
  - `zh/` ä¸­æ–‡æ–‡æ¡£ç›®å½•ï¼ˆå«ä¸­æ–‡é¦–é¡µä¸ç¤ºä¾‹ï¼‰
- `docs/` æ„å»ºè¾“å‡ºç›®å½•ï¼ˆGitHub Pages å‘å¸ƒä½¿ç”¨ï¼‰
- `patches/` å¯¹ç¬¬ä¸‰æ–¹åŒ…çš„ä¿®è¡¥ï¼ˆ`patch-package`ï¼‰

## å¦‚ä½•æ–°å¢æ–‡æ¡£

ä»¥æ–°å¢ä¸€ç¯‡â€œGetting Started/å¿«é€Ÿä¸Šæ‰‹â€ä¸ºä¾‹ï¼š

1. æ–°å¢ Markdown æ–‡ä»¶

- è‹±æ–‡ï¼š`docs_source/guide/getting-started.md`
- ä¸­æ–‡ï¼š`docs_source/zh/guide/getting-started.md`

ç¤ºä¾‹ï¼ˆè‹±æ–‡ï¼‰ï¼š

```md
---
title: Getting Started
outline: deep
---

# Getting Started

è¿™é‡Œå†™æ­£æ–‡å†…å®¹ï¼Œæ”¯æŒ VitePress çš„æ‰€æœ‰ Markdown æ‰©å±•ã€‚
```

ç¤ºä¾‹ï¼ˆä¸­æ–‡ï¼‰ï¼š

```md
---
title: å¿«é€Ÿä¸Šæ‰‹
outline: deep
---

# å¿«é€Ÿä¸Šæ‰‹

è¿™é‡Œå†™ä¸­æ–‡å†…å®¹ã€‚
```

1. æŠŠæ–‡æ¡£åŠ åˆ°ä¾§è¾¹æ 

ç¼–è¾‘ `docs_source/.vitepress/config.mts`ï¼Œåœ¨ `themeConfig.sidebar`ï¼ˆè‹±æ–‡ï¼‰ä¸ `locales.zh.themeConfig.sidebar`ï¼ˆä¸­æ–‡ï¼‰ä¸­å¢åŠ èœå•é¡¹ï¼š

```ts
// è‹±æ–‡ä¾§è¾¹æ 
{
  text: 'Guide',
  items: [
    { text: 'Getting Started', link: '/guide/getting-started' },
  ],
}

// ä¸­æ–‡ä¾§è¾¹æ 
{
  text: 'æŒ‡å—',
  items: [
    { text: 'å¿«é€Ÿä¸Šæ‰‹', link: '/zh/guide/getting-started' },
  ],
}
```

1. è·¯ç”±ä¸é“¾æ¥è§„åˆ™

- è‹±æ–‡æ ¹è·¯ç”±ä»¥ `/` å¼€å¤´ï¼Œå¦‚ `/guide/getting-started`ã€‚
- ä¸­æ–‡è·¯ç”±ä»¥ `/zh/` å‰ç¼€å¼€å¤´ï¼Œå¦‚ `/zh/guide/getting-started`ã€‚
- ä¸­è‹±æ–‡äº’ç›¸è·³è½¬æ—¶ï¼Œè¯·æ³¨æ„åŠ ä¸Šæˆ–å»æ‰ `/zh/` å‰ç¼€ã€‚

## è°ƒè¯•ä¸æ„å»º

- å¼€å‘æ¨¡å¼ï¼š`pnpm run dev`ï¼Œé»˜è®¤æ‰“å¼€ <http://localhost:5173>ï¼ˆVite é»˜è®¤ç«¯å£ï¼Œå®é™…ç«¯å£ä»¥ç»ˆç«¯è¾“å‡ºä¸ºå‡†ï¼‰ã€‚
- æ„å»ºè¾“å‡ºï¼š`pnpm run build` åäº§ç‰©å†™å…¥ `docs/`ï¼›è‹¥å¯ç”¨ GitHub Pagesï¼Œå°†ç›´æ¥ç”¨è¯¥ç›®å½•å‘å¸ƒã€‚
- é¢„è§ˆæ„å»ºï¼š`pnpm run preview`ã€‚

## éƒ¨ç½²åˆ° GitHub Pagesï¼ˆä½¿ç”¨ docs ç›®å½•ï¼‰

1. æ‰“å¼€ GitHub ä»“åº“ Settings â†’ Pagesã€‚
2. Source é€‰æ‹© â€œDeploy from a branchâ€ã€‚
3. Branch é€‰æ‹© `main`ï¼Œç›®å½•é€‰æ‹© `/docs`ã€‚
4. è‡ªå®šä¹‰åŸŸåï¼šæœ¬ä»“åº“å·²åœ¨ `docs/CNAME` é…ç½® `docs.zenmux.ai`ã€‚ç¡®ä¿ DNS è§£ææŒ‡å‘ GitHub Pages å¹¶å®Œæˆä¸»æœºåéªŒè¯ã€‚
5. æ¨é€æ„å»ºäº§ç‰©ï¼š

```sh
pnpm run build
git add -A
git commit -m "build: docs site"
git push
```

GitHub Pages ä¼šè‡ªåŠ¨ä» `/docs` ç›®å½•å‘å¸ƒæœ€æ–°ç«™ç‚¹ã€‚

## è§„èŒƒä¸çº¦å®š

- Markdown å¤´éƒ¨ Frontmatter å»ºè®®è‡³å°‘åŒ…å« `title`ï¼Œå¿…è¦æ—¶æ·»åŠ  `outline: deep` ä»¥ç”Ÿæˆæ›´å®Œæ•´ç›®å½•ã€‚
- ç«™ç‚¹å¯¼èˆªä½äº `config.mts -> themeConfig.nav`ï¼ˆè‹±æ–‡ï¼‰ä¸ `locales.zh.themeConfig.nav`ï¼ˆä¸­æ–‡ï¼‰ã€‚
- æ–°å¢é¡µé¢åï¼Œç¡®ä¿ä¾§è¾¹æ ä¸å¯¼èˆªå‡èƒ½æ‰¾åˆ°å…¥å£ï¼Œé¿å…â€œå­¤å„¿é¡µé¢â€ã€‚

## å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰

- é¢„è§ˆä¸ºä»€ä¹ˆ 404ï¼Ÿ
  - æ–°å¢ä¸­æ–‡æ–‡æ¡£è¯·ç¡®ä¿è·¯å¾„ä»¥ `/zh/` å‰ç¼€ï¼›è‹±æ–‡æ–‡æ¡£åˆ™ä¸éœ€è¦æ­¤å‰ç¼€ã€‚
- GitHub Pages å‘å¸ƒåè·¯å¾„é”™ä¹±ï¼Ÿ
  - å¦‚æœä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼ˆ`docs.zenmux.ai`ï¼‰ï¼Œ`config.mts` ä¸­çš„ `base` åº”ä¸º `/`ã€‚è‹¥ä½¿ç”¨éæ ¹è·¯å¾„å‘å¸ƒï¼Œéœ€ç›¸åº”é…ç½® `base`ã€‚
- æ­»é“¾æ£€æŸ¥æ€ä¹ˆåšï¼Ÿ
  - æ„å»ºåå¯å€ŸåŠ©ç®€å•è„šæœ¬æˆ–ç«™ç‚¹æ‰«æå·¥å…·æ£€æµ‹ `docs/` å†…é¡µé¢çš„å¤–é“¾æœ‰æ•ˆæ€§ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ PR æ”¹è¿›æ–‡æ¡£ä¸ç¤ºä¾‹ã€‚å»ºè®®åœ¨æäº¤å‰æœ¬åœ°æ„å»ºå¹¶é¢„è§ˆï¼Œç¡®ä¿é“¾æ¥ä¸å¯¼èˆªæ­£å¸¸ã€‚
